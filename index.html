<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cahillâ€“Concialdi Projection</title>
</head>
<style>
html, body {
  margin: 0;
  padding: 0;
  /* background: #000; */
}

svg, canvas {
  position: absolute;
  width: 100vw;
}
</style>
<body>

<canvas></canvas>
<!-- <?xml version="1.0" encoding="UTF-8" standalone="no"?> -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
  <style>
@font-face {
  font-family: 'Andika';
  src: url(Andika-Regular.woff2) format('woff2');
  font-feature-settings:
    'cv04' 1, /* open 4 */
    'cv06' 1, /* slanted stems on 6 and 9 */
    'cv51' 1, /* q's tail */
    'cv52' 1; /* Q's tail */
}

* {font-family: Andika;}

#background {
  /* fill: #00A1BE; */
  fill: skyblue;
  stroke: none;
}

#graticule {
  fill: none;
  stroke-width: 0.03;
  opacity: 0.5;
  stroke-opacity: 0.4;
  stroke: #000;
}

#circles, #equator-mask {
  fill: none;
  stroke-width: 0.07;
  stroke-opacity: 1;
  stroke: #000;
}

#equator-mask {
  /* stroke: #00A1BE; */
  stroke: skyblue;
}

.polar-tropic {
  stroke-dasharray: 1 1;
  stroke: none;
}

#countries {
  stroke-width: 0.015;
  stroke-linejoin: round;
  fill: none;
  stroke: #555;

}

#countries .c1 {
  fill: #31C759; /* greenish */
}

#countries .c2 {
  fill: #FF9501; /* orangeish */
}

#countries .c3 {
  fill: #E8D700; /* yellowish */
}

#countries .c4 {
  fill: #E53B57; /* reddish */
}

#countries .c5 {
  fill: #6C43F3; /* darkblueish */
}

#countries .c6 {
  fill: #BE37F3; /* purple */
}

#countries .c7 {
  fill: lightgray;
}

#state-boundaries, #coastline {
  stroke-width: 0.03;
  stroke-linejoin: round;
  stroke-linecap: round;
  fill: none;
  stroke: #555;
}

#boundaries {
  fill: none;
  stroke: #555;
  stroke-width: 0.04;
  stroke-linejoin: round;
  stroke-linecap: round;
}

#boundaries path.disputed {
  stroke: red;
  /* stroke-dasharray: 0.4 0.2; */
}
#country-labels {
  text-anchor: middle;
  font-size: 1px;
  /* text-transform: uppercase; */
  /* font-variant-caps: small-caps; */
  font-weight: bold;
}

#state-labels {
  text-anchor: middle;
  font-size: .75px;
  font-variant-caps: small-caps;
}

#cities {
  font-size: .5px;
}

.center-align {
  text-anchor: middle;
}

.right-align {
  text-anchor: end;
}
</style>
  <g id="svg-map-wrapper">
    <defs id="defs"></defs>
    <path id="background" />
    <g id="equator-mask"></g>
    <g id="countries"></g>
    <g id="state-boundaries"></g>
    <g id="boundaries"></g>
    <g id="coastline"></g>
    <g id="graticule">
    <g id="circles"></g></g>
    <g id="cities"></g>
    <g id="state-labels"></g>
    <g id="country-labels"></g>
  </g>
</svg>
<script>
function download() {
  const c = document.getElementsByTagName("canvas")[0];
  let canvasUrl = c.toDataURL();
  //let canvasUrl = c.toDataURL("image/jpeg", 0.85);
  const createEl = document.createElement('a');
  createEl.href = canvasUrl;
  createEl.download = "cahill-concialdi";
  createEl.click();
  createEl.remove();
}
</script>
<span style="position: fixed; bottom: 10px; right: 10px;background-color: hotpink;" onclick="download()">Download Canvas!</span>

<script src="https://unpkg.com/complex.js@2.0.11/complex.min.js"></script>
<script type="module">

import { drawVectorMap } from './map-vector.mjs';
import {
  drawRasterMap,
  RASTER_NE_I,
  RASTER_NE_II,
  RASTER_NE_HYPSO,
  RASTER_NASA_BLUE,
  RASTER_NASA_BLACK,
  RASTER_NE_I_DAY_NIGHT,
  RASTER_NE_HYPSO_DAY_NIGHT,
  RASTER_NASA_DAY_NIGHT,
} from './map-raster.mjs';

drawVectorMap();
//drawRasterMap(RASTER_NE_II);

function download() {
  const c = document.getElementsByTagName("canvas")[0];
  //let canvasUrl = c.toDataURL("image/jpeg", 0.85);
  let canvasUrl = c.toDataURL();
  const createEl = document.createElement('a');
  createEl.href = canvasUrl;
  createEl.download = "cahill-concialdi";
  createEl.click();
  createEl.remove();
}
</script>
</body>
</html>
